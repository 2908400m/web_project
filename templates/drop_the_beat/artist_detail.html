{% extends "drop_the_beat/base.html" %}

{% block title_block %}
    {{ artist.name }}
{% endblock %}

{% block body_block %}
    <h1>{{ artist.name }}</h1>

    <p>Profile Views: {{ artist.profile_views }}</p>
    
    <h3>Songs by {{ artist.name }}</h3>
    {% if songs %}
        <ul>
            {% for song in songs %}
                <li>{{ song.title }} (Genre: {{ song.genre.genre }})</li>

                {% if song.preview_url %}
                    <audio controls>
                        <source src="{{ song.preview_url}}" type="audio/mpeg">
                        Your browser does not support the audio preview.
                    </audio>
                {% else %}
                    <p> No music preview avaliable</p>
                {% endif %}
            {% endfor %}
        </ul>
    {% else %}
        <p>No songs available.</p>
    {% endif %}

    <a href="{% url 'artists' %}">Back to Artists</a>
{% endblock %}
